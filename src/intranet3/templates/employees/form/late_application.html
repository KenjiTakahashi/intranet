{% extends "templates/employees/form/_base.html" %}

{% block content %}
    <h2 class="content-header">Lateness request</h2>
    <form action="{{ request.url_for('/employees/form/late_application') }}" method="post" accept-charset="utf-8">
        {{ csrf_field }}
        {{ form_field(form.popup_date, 'Format DD/MM/RRRR', class='datepicker') }}
        {{ late_form_field(form.late_start, 'Format HH:MM', 'timepicker1', id='timepicker1', type='text', class='input-small') }}
        {{ late_form_field(form.late_end, 'Format HH:MM', 'timepicker2', id='timepicker2', type='text', class='input-small') }}
        {{ form_field(form.popup_explanation, 'Wyja≈õnienie') }}

        <div class="buttons">
            <input type="submit" value="Submit" class="button btn"/>
            <img class="ajax-loader" title="Bug titles loading" src="/static/img/ajax.gif"/>
        </div>
    </form>
{% endblock content %}
{% block tail_script %}
     <script type="text/javascript">
         var timepicker1 = $('#timepicker1');
         var timepicker2 = $('#timepicker2');
         var checkbox1 = $('input[name$="timepicker1"]');
         var checkbox2 = $('input[name$="timepicker2"]');
         var block1 = checkbox1.parent().parent().find('dd').last();
         var block2 = checkbox2.parent().parent().find('dd').last();

         timepicker1.timepicker({ defaultTime: false, showMeridian: false });
         timepicker2.timepicker({ defaultTime: false, showMeridian: false });
         block1.addClass('invisible');
         block2.addClass('invisible');
         checkbox1.click( function() {
            block1.toggleClass('visible');
         });
         checkbox2.click( function() {
            block2.toggleClass('visible');
         });

     </script>
{% endblock %}
